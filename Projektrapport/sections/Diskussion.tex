\chapter{Diskussion}
I dette afsnit diskuteres udviklingen af projektet. Der vil blive diskuteret, hvilke dele af projektet, som kunne være gjort anderledes, samt de features i systemet der er særlig vigtige for funktionaliteten.

%% Start her. Har ikke lavet rettelser herfra.
\section{Opdeling af controller-ansvar}
Controller-klassen 'BarterAdsController' har ansvaret for alle actions, der har at gøre med BarterAds. I starten af projektet virkede det fornuftigt, at give den ansvaret, men undervejs i udviklingsprocessen voksede klassen sig imidlertid meget stor. Dette skyldtes at langt de fleste af handlingerne på hjemmesiden var centraliseret omkring manipulering af BarterAds. Dette gav endvidere grund til Git-konflikter i forbindelse med parallelt arbejde, da flere lavede ændringer i samme fil. Klassen kunne med fordel have haft mindre ansvar, og være delt ud i flere dele.\\ \\
%Dette gav anledning til problemer ifm. parallelt arbejde på BarterAdsController-klassen, da der ofte opstod konflikter og fejl, når ændringer på controlleren, lavet af forskellige udviklere, skulle merges i git. Klassen kunne derfor med fordel have været delt op i flere dele, med mindre ansvarsområder. \\
\noindent I forbindelse med test af systemet blev det erfaret, at controllerne i systemet var for store og komplicerede til, at unit tests af disse kunne automatiseres, som nævnt i afsnit \ref{ch:Test}. Dette kunne være undgået ved at flytte logik fra controllerne til seperate businesslogik-klasser, der kunne testes automatisk.

\section{Mangelfuldt design af flow på hjemmeside}
I starten af projektet blev der gjort nogle overordnede overvejelser omkring hvordan hjemmesiden skulle se ud, og hvilke menupunkter der skulle være til stede. Der blev ikke lavet noget design over hvordan flowet på hjemmesiden skulle fungere, da vi ikke havde lært om nogle værktøjer/metoder til at gribe dette an. \\ \\
\noindent Undervejs i udviklingen blev flowet på hjemmesiden udbygget sammen med de features der blev tilføjet. Dette kan være kilde til en inkonsistent brugeroplevelse, da flowet ikke bliver lavet efter en fast plan, og i stedet afhænger af den enkelte udvikler. Det kan være problematisk, da kravene til projektet vægtede brugervenlighed højt.\\ \\

\noindent Et eksempel på en inkonsistent brugeroplevelse kunne være følgende:
\begin{enumerate}
	\item Bruger A sender en bytteanmodning til bruger B på siden
	\item Bruger B accepterer byttehandlen på siden
	\item Brugerne bytter deres ting i virkeligheden
	\item Bruger A bekræfter aldrig byttehandlen på siden
\end{enumerate}
\noindent Byttenannoncerne hos begge brugere hænger nu i en tilstand, som de aldrig kommer ud af.

\noindent Hvis systemet skulle udvikles forfra, ville det være en fordel at planlægge flowet på hjemmesiden mere nøje, inden man begynder på implementeringen.

\section{Chat-funktionen}
Som det fremgår af tabel \ref{fig:Implementeringsstatus} er alle user stories blevet implementeret bortset fra ''US 8 - Kontakt en bruger direkte''. Chat-funktionen er blevet implementeret som en global chat mellem alle brugere, men direkte chat mellem to brugere blev ikke implementeret pga. mangel på tid.

	
\section{Særlige features}
Af de implementerede features i projektet er der et par, der skal fremhæves særligt.
De features er:
\begin{itemize}[noitemsep]
	\item Kortintegration
	\item Søgefunktionalitet 
	\item Chat
\end{itemize}

\noindent Søgefunktionaliteten er et MUST på en hjemmeside, hvor der bliver arbejdet med annoncer. Denne feature er noget særligt på grund af rækken af filtre, der kan bruges til at søge efter annoncer med. Disse filtre er afstand, titel og kategori. \\

\noindent Kortintegration er en særlig feature, der gør, at man for en given annonce kan se dens placering. Der kan ses et landkort, som viser placeringen af samtlige annoncer tilknyttet systemet. \\

\noindent Chat er en særlig feature, som tillader flere brugere at interagere live med hinanden. Chatten har krævet et stort arbejde og brug af SignalR, hvilket var nyt for gruppen.




 